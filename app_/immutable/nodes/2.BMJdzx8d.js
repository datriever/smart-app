import{a as Y,t as z}from"../chunks/disclose-version.BTBZDN_a.js";import{V as K,W as H,$ as o,Z as a,P as v,_ as t,X as T,Y as Q,R as w,a6 as J,a7 as L,a8 as s,a9 as B}from"../chunks/runtime.9UtlaTIT.js";import{p as M,i as N}from"../chunks/preload-helper.B1TkqzSX.js";import{s as m}from"../chunks/attributes.DbpSsg2k.js";import{s as D,M as $,I as i,g as aa}from"../chunks/Icon.DzZZ7ctA.js";import{s as G}from"../chunks/render.D2Ug7jGZ.js";import{P as ta}from"../chunks/Plot.CfTS8oI1.js";import{b as h}from"../chunks/paths.hm3COT6X.js";var oa=z('<div class="card svelte-1i1olvw"><h2 style="margin-bottom: 0.4rem;">Your Portfolio</h2> <!></div> <div class="card svelte-1i1olvw"><h2 style="margin-bottom: 0.4rem;">Key Indicators</h2> <p>Weighted Cost: <strong> </strong></p> <p>CO₂ Intensity: <strong> </strong></p></div>',1);function ra(F,l){K(l,!0);const f=w(()=>l.portfolio.map(r=>r.proportion)),j=w(()=>l.portfolio.map(r=>r.name)),_=w(()=>D(l.portfolio.map(r=>r.proportion*r.cost))),y=w(()=>D(l.portfolio.map(r=>r.proportion*r.emissions))),I=w(()=>[{values:v(f),labels:v(j),type:"pie",marker:{colors:["#a8f0c6","#8fbf9d","#f8b88b"]},textinfo:"label+percent"}]),S={paper_bgcolor:"#1b2925",plot_bgcolor:"#1b2925",margin:{l:0,r:0,t:0,b:0},font:{color:"#d4f0e4"},showlegend:!1};var p=oa(),n=H(p),E=o(a(n),2);ta(E,{get data(){return v(I)},layout:S,fillParent:"width"}),t(n);var b=o(n,2),u=o(a(b),2),d=o(a(u)),x=a(d);T(()=>G(x,`${v(_).toFixed(2)??""}  €/MWh`)),t(d),t(u);var c=o(u,2),P=o(a(c)),g=a(P);T(()=>G(g,`${v(y).toFixed(2)??""} gCO₂/kWh`)),t(P),t(c),t(b),Y(F,p),Q()}const ea=$({baseUrl:"http://localhost:8000"});var sa=z("<p>Error fetching portfolio</p>"),ia=z('<main class="svelte-3cwgrf"><h1 class="svelte-3cwgrf">Smart Energy App</h1> <!> <div class="card svelte-3cwgrf"><h2 style="margin-bottom: 0.4rem;">Quick Insights</h2> <p><!> Congratulations! Your portfolio is 75% renewable.</p> <p><!> Consider reducing reliance on natural gas for lower emissions.</p></div> <div class="card svelte-3cwgrf"><h2 style="margin-bottom: 1rem;">Recommendations</h2> <div class="btn-group svelte-3cwgrf"><a class="svelte-3cwgrf"><!> <p>Greener Strategy</p></a> <a class="svelte-3cwgrf"><!> <p>Cheaper Strategy</p></a> <a class="svelte-3cwgrf"><!> <p>Balanced Strategy</p></a></div></div> <div class="card svelte-3cwgrf"><h2 style="margin-bottom: 1rem;">Tools</h2> <div class="btn-group svelte-3cwgrf"><a class="svelte-3cwgrf"><!> <p>Portfolio Optimization</p></a> <a class="svelte-3cwgrf"><!> <p>Market Predictions</p></a> <a class="svelte-3cwgrf"><!> <p>Solar Trading</p></a></div></div></main>');function ma(F,l){K(l,!0);let f=J(M({tag:"success",portfolio:[]}));async function j(){const e=await aa({client:ea,throwOnError:!1});e.data?B(f,M({tag:"success",portfolio:e.data})):B(f,M({tag:"error"}))}L(()=>{j()});var _=ia(),y=o(a(_),2);{var I=e=>{ra(e,{get portfolio(){return v(f).portfolio}})},S=e=>{var q=sa();Y(e,q)};N(y,e=>{v(f).tag==="success"?e(I):e(S,!1)})}var p=o(y,2),n=o(a(p),2),E=a(n);i(E,{icon:"fa:star",style:"color: #FFD700;",scale:10,inline:!0}),s(),t(n);var b=o(n,2),u=a(b);i(u,{icon:"fa:exclamation-triangle",style:"color: #FFC107;"}),s(),t(b),t(p);var d=o(p,2),x=o(a(d),2),c=a(x);m(c,"href",`${h}/strategy/green`);var P=a(c);i(P,{icon:"fa:leaf",style:"color: #4CAF50;"}),s(2),t(c);var g=o(c,2);m(g,"href",`${h}/strategy/cheap`);var r=a(g);i(r,{icon:"twemoji:dollar-banknote"}),s(2),t(g);var O=o(g,2);m(O,"href",`${h}/strategy/balanced`);var U=a(O);i(U,{icon:"twemoji:balance-scale"}),s(2),t(O),t(x),t(d);var A=o(d,2),R=o(a(A),2),C=a(R);m(C,"href",`${h}/optimize`);var V=a(C);i(V,{icon:"fluent-emoji-flat:bar-chart"}),s(2),t(C);var k=o(C,2);m(k,"href",`${h}/market`);var X=a(k);i(X,{icon:"fluent-emoji-flat:chart-increasing"}),s(2),t(k);var W=o(k,2);m(W,"href",`${h}/solar`);var Z=a(W);i(Z,{icon:"fluent-emoji-flat:sun"}),s(2),t(W),t(R),t(A),t(_),Y(F,_),Q()}export{ma as component};
